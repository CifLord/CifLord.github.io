The Surface Phase Diagram tab is an app on the Lykoi dashboard that allows users to load a .csv file containing information regarding the surface energies of various facets and terminations purely as a function of chemical potential and plots a phase diagram based on the user's desired reaction conditions. In this tutorial, I will go over how to use the Surface Phase Diagram tab. I will also go through some fundamental thermodynamics to give context to how this app works, however, for a deeper dive into the science, I suggest giving the following a read:

1. Rogal, J., & Reuter, K. (2007). Ab Initio Atomistic Thermodynamics for Surfaces : A Primer. Experiment, Modeling and Simulation of Gas-Surface Interactions for Reactive Flows in Hypersonic Flights, 2-1-2–18.

Otherwise, a future tutorial regarding surface thermodynamics will be released in the future.

![image.png](attachment:8cd109cc-d051-42c9-8310-3a9cd455af69.png)

Opening up our Lykoi dashboard and going to the "Surface Phase Diagram" tab (1) will bring us to an empty Plotly graph (2). We will begin by loading our .csv file either by dragging and dropping or clicking the tab at the bottom (3). As an example, we will be creating a .csv file containing surface energy information regarding the CO oxidation of the Pd(100) surface. Data for this example will be taken from:

2. Rogal, J., Reuter, K., & Scheffler, M. (2007). CO oxidation at Pd(100): A first-principles constrained thermodynamics study. Physical Review B - Condensed Matter and Materials Physics, 75(20), 1–11. https://doi.org/10.1103/PhysRevB.75.205433

Table 2 taken from ref 2.

![image.png](attachment:408071c0-def3-4381-a4a3-353a4dd848c4.png)

The surface energy ($\gamma$) is defined as the Landau (or grand) potential per unit of surface area:

1. $\Phi = U - TS - \Sigma_iN_i\mu_i$ (Landau potential)

2. $\gamma = \Phi / A = $ (surface energy)

Here, $U$ is the internal energy, $T$ is temperature, $S$ is entropy, $i$ is the component making up the system (typically an atom), $\mu_i$ is the chemical potential of component $i$, $N_i$ is the number of components $i$, and $A$ is the surface area. We'll simplify this in the context of ab-initio density functional theory calculations and assume we are at 0 K with no vibrational components, making the internal energy, $U$, the total DFT energy of the system, as such:

3. $\gamma = \frac{E_{slab}^{DFT} - \Sigma_iN_i\mu_i}{2A}$

This of course assumes our system models the surface of a material as a slab where the denominator of 2 accounts for the fact that a slab is terminated by 2 surfaces. For a detailed explanation of how to model surfaces, see the following link:

https://matgenb.materialsvirtuallab.org/2017/04/03/Slab-generation-and-Wulff-shape.html

We'll reference $\mu_i$ to 0 eV where $\Delta \mu_i = \mu_i-E^{ref}_i < 0$ eV. Here $E^{ref}_i$ is the reference to the chemical potential. Typically, to account for components $i$ in the bulk, we use the DFT energy per formula unit of the bulk as our reference ($\mu_{bulk} = E^{DFT}_{bulk}$) while the reference for the adsorbate is some molecular species as a gas (e.g. $\mu_{CO_{(g)}} = E^{ref}_{CO_{(g)}} +\Delta \mu_{CO_{(g)}}$). And so Eqn. 3 becomes:

4. $\gamma = \frac{E_{slab}^{DFT} - \Sigma_iN_i(\Delta \mu_i+E^{ref}_{i})}{2A}$

Now you may have notice in Table 2 ref2 above gives us binding energy and coverage, not surface energy, as such, we'll have to do some simple algebra to get our Landau potentials. We know that $E^{bind}$ is given by:

5. $E_{O^*, CO^*}^{bind} = E^{DFT}_{O^*, CO^*} - E^{DFT}_{*} - N_iE^{ref}_{O^*, CO^*}$

If we have the surface energy of the clean surface of Pd (100) without adsorption ($*$), we can incorporate the bulk chemical potential as such:

6. $\gamma_{ads^*} = \frac{E_{ads^*}^{bind}}{2A} - \gamma_{*} = \frac{E^{DFT}_{ads^*} - N_{ads^*}(E^{ref}_{ads^*}+\Delta \mu_{ads^*}) - N_{bulk}E^{DFT}_{bulk}}{2A}$


where $\Delta \mu_{ads^*} = 0$ eV

For a non-zero value of $\Delta \mu_{ads^*}$:

7. $\gamma_{ads^*} = \frac{E_{ads^*}^{bind}}{2A} - \gamma_{*} - \frac{N_{ads^*}}{2A}\Delta \mu_{ads^*}$

From the manuscript, we know a monolayer (ML) of 1x1 has a surface area of  $A_{(1x1)} = 7.79$ $Å^2$, $N_{ads} = \Theta\times ML$. For the life of me, I can't find the value of the clean Pd(100) surface in the manuscript so I'm just going to take the value from my previous manuscript and assume $\gamma_{Pd(100)} = 0.095$ eV/Å$^2$ (see ref3):

Tran, R., Xu, Z., Radhakrishnan, B., Winston, D., Sun, W., Persson, K. A., & Ong, S. P. (2016). Data Descripter: Surface energies of elemental crystals. Scientific Data, 3(160080), 1–13. https://doi.org/10.1038/cgt.2016.38

Since we have more than one adsorbate ($O^*$ and $CO^*$), we will assume surface energy will be:

8. $\gamma_{ads^*}(\Delta \mu_{O^*}, \Delta \mu_{CO^*}) = \frac{E_{ads^*}^{bind}}{15.58} - 0.095 - \frac{N_{O^*}}{15.58}\Delta \mu_{O^*} - \frac{N_{CO^*}}{15.58}\Delta \mu_{CO^*}$

We now have a way to rewrite our surface energy as a function of chemical potentials. In your .csv file, each row will correspond to one surface energy and each column will correspond to the coefficient of each chemical potential, the reduced formula of the bulk structure from which the slab is created from, and an additional column corresponding to the constant. This is enough to create your phase diagram, however additional columns will appear on each facet of the phase diagram as hovertext. 


```python

```

1A = 31.16/4 (31.16/(2x2))

Recall that the surface energy is the grand potential normalized by surface area. At the end of the day, this is just a normalized formation energy. So one might ask "can I just use this to plot the phase diagram for bulk formation energies instead of surface energies so long as I provide the formation energy as a function of chemical potentials?". And the answer to this is yes. You technically can build phase diagrams for bulk structures or anything for that matter, so long as the units of your Landau potential are consistent for all phases you are interested in.


```python
# 4/6 = 4 adsorbates / 3rt2xrt2 = 4 ads / 6xarea
```




    0.6666666666666666




```python
2*7.79
```




    15.58




```python
6*(4/6)
```




    4.0




```python
8*0.75
```




    6.0




```python

```
